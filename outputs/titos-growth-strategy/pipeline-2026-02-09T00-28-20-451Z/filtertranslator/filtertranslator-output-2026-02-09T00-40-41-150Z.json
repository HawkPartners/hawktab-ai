{
  "translation": {
    "filters": [
      {
        "ruleId": "rule_s6a_hispanic_filter",
        "questionId": "S6a",
        "action": "filter",
        "filterExpression": "S6 == 1",
        "baseText": "Respondents who answered Yes to S6 (are of Hispanic or Latino origin)",
        "splits": [],
        "alternatives": [
          {
            "expression": "S6 %in% c(1)",
            "confidence": 0.6,
            "reason": "Equivalent to S6 == 1 but uses %in% for consistency with multi-value conditions."
          }
        ],
        "confidence": 0.95,
        "reasoning": "Datamap contains S6 (categorical_select) with values 1=Yes and 2=No. The rule explicitly requires S6 = 1. The S6a question rows are present as S6ar1..S6ar8, but the minimal table-level constraint is simply S6 == 1.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_s10b_conditional_responses",
        "questionId": "S10b",
        "action": "split",
        "filterExpression": "",
        "baseText": "Show only the subset of S10b response options that correspond to the respondent's S10a selection",
        "splits": [],
        "alternatives": [
          {
            "expression": "S10a == 1",
            "confidence": 0.3,
            "reason": "Alternative minimal table-level constraint: restrict to respondents who selected S10a=1 (Connection/Belonging example). This DOES NOT implement the required row-level mapping of which S10b codes belong under S10a=1 — the mapping of S10a -> S10b option codes is missing from the datamap, so this is only a coarse alternative."
          },
          {
            "expression": "S10a %in% c(1,2,3,4)",
            "confidence": 0.15,
            "reason": "Very coarse alternative if the intent was to limit the table to respondents in any of several S10a categories. Not recommended — mapping of S10a to S10b option codes is required for correct row-level splits."
          }
        ],
        "confidence": 0.25,
        "reasoning": "S10a and S10b variables exist in the datamap (S10a: categorical_select 1-8; S10b: categorical_select with many specific child codes including 1..40 and 100..107). However, the rule requires a conditional-response-set mapping (which S10b option codes belong under each S10a heading). That S10a->S10b code mapping is not present in the datamap or translationContext provided. Per the conditional response set resolution rules, we must NOT guess these mappings. Therefore we cannot produce the required per-row split definitions mapping S10b row variables to S10a values. Returning empty splits and flagging for human review is the safe action.",
        "humanReviewRequired": true
      },
      {
        "ruleId": "rule_s11b_conditional_responses",
        "questionId": "S11b",
        "action": "split",
        "filterExpression": "",
        "baseText": "Show only the subset of S11b response options that correspond to the respondent's S11a selection (conditional response set).",
        "splits": [],
        "alternatives": [
          {
            "expression": "S11a == 1",
            "confidence": 0.3,
            "reason": "Minimal coarse constraint: selects respondents who chose S11a option 1. This does NOT implement the required row-level mapping of which S11b option codes should be shown for S11a==1, but indicates the parent category. Use only if the mapping to S11b codes will be applied downstream."
          },
          {
            "expression": "hS11b == 1",
            "confidence": 0.2,
            "reason": "If the survey engine precomputes a derived/hidden code for the selected S11b conditional set in hS11b, this could be used; datamap shows hS11b exists (admin, values 1-40) but coding is undocumented, so this is speculative."
          }
        ],
        "confidence": 0.3,
        "reasoning": "S11a and S11b variables exist in the datamap (S11a: categorical_select values 1-8; S11b: categorical_select values including 1..107). However, the datamap and provided translationContext do NOT include the explicit parent→child mapping that lists which S11b option codes correspond to each S11a value (the grouped lists used at S10b/S11b). Per the conditional_response_set_resolution rules, we must NOT guess or invent that mapping. Building correct row-level splits requires the questionnaire mapping (e.g., S11a==1 -> S11b options {..}). Since that mapping is missing, I cannot produce safe split definitions. Returning empty splits and flagging for human review is the correct, minimal approach.",
        "humanReviewRequired": true
      },
      {
        "ruleId": "rule_a5_form_of_drink",
        "questionId": "A5",
        "action": "filter",
        "filterExpression": "A4 %in% c(7, 8, 9, 10, 11, 12, 13)",
        "baseText": "Those who selected spirit-type answers for A4 (codes 7-13: vodka, whiskey/bourbon, tequila/mezcal, rum, gin, cordial, cognac).",
        "splits": [],
        "alternatives": [
          {
            "expression": "A4 >= 7 & A4 <= 13",
            "confidence": 0.75,
            "reason": "Codes 7 through 13 are contiguous; equivalent to enumerating values but relies on contiguity."
          }
        ],
        "confidence": 0.95,
        "reasoning": "A4 exists in the datamap as a categorical_select with values 1-15. The rule explicitly requires A4 in {7,8,9,10,11,12,13}; the primary expression uses exact enumeration to minimally and explicitly implement that condition. No loop or hidden-variable mapping is needed.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_a6_on_premise_filter",
        "questionId": "A6",
        "action": "filter",
        "filterExpression": "hLOCATION1 %in% c(5,6,7,8,9,10,11,12,13,14,16)",
        "baseText": "Those whose occasion (Location 1) is an ON-PREMISE location",
        "splits": [],
        "alternatives": [
          {
            "expression": "(dLOCATIONr5 == 1 | dLOCATIONr6 == 1 | dLOCATIONr7 == 1 | dLOCATIONr8 == 1 | dLOCATIONr9 == 1 | dLOCATIONr10 == 1 | dLOCATIONr11 == 1 | dLOCATIONr12 == 1 | dLOCATIONr13 == 1 | dLOCATIONr14 == 1 | dLOCATIONr16 == 1)",
            "confidence": 0.65,
            "reason": "Use per-location hidden flags (dLOCATIONr#) to detect if the selected location is one of the ON-PREMISE rows. This avoids assuming numeric coding in hLOCATION1, but is more verbose."
          },
          {
            "expression": "hLOCATION2 %in% c(5,6,7,8,9,10,11,12,13,14,16)",
            "confidence": 0.4,
            "reason": "If A6 in this survey instance corresponds to Location 2 rather than Location 1. Datamap does not explicitly state which hLOCATION (1 or 2) ties to A6, so this is a plausible alternate mapping."
          }
        ],
        "confidence": 0.75,
        "reasoning": "translationContext specifies ON-PREMISE = S9 codes {5,6,7,8,9,10,11,12,13,14,16}. The datamap contains hLOCATION1/hLOCATION2 (admin, 1-99) which likely store the S9 row code assigned to each occasion. The minimal, most direct constraint is hLOCATION1 %in% c(...). An alternative is to use the per-row hidden flags dLOCATIONr# (if those mark the chosen location) to detect on-premise rows. There is residual ambiguity about whether A6 maps to LOCATION1 or LOCATION2 and about whether hLOCATION1 encodes the S9 row code exactly; therefore humanReviewRequired is recommended.",
        "humanReviewRequired": true
      },
      {
        "ruleId": "rule_a10_number_people",
        "questionId": "A10",
        "action": "filter",
        "filterExpression": "A9r1 == 0",
        "baseText": "Those who did NOT select 'I was alone' on A9",
        "splits": [],
        "alternatives": [
          {
            "expression": "A9r1 != 1",
            "confidence": 0.9,
            "reason": "Equivalent expression: A9r1 is a binary_flag (0/1) where 1 = 'I was alone'. Using != 1 instead of == 0 is slightly less explicit but functionally the same."
          }
        ],
        "confidence": 0.95,
        "reasoning": "Datamap contains A9r1 ('I was alone') as a binary_flag (0/1). The minimal constraint to show A10 is that the 'I was alone' flag was NOT selected, i.e., A9r1 == 0. translationContext confirms option 1 is mutually exclusive.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_a13_brand_occasion",
        "questionId": "A13",
        "action": "filter",
        "filterExpression": "A4 %in% c(7,8,9,10,11,12,13)",
        "baseText": "Those whose drink type (A4) is one of: Vodka, Whiskey/Bourbon, Tequila/Mezcal, Rum, Gin, Cordial, or Cognac (A4 ∈ {7,8,9,10,11,12,13})",
        "splits": [],
        "alternatives": [
          {
            "expression": "A4 %in% 7:13",
            "confidence": 0.7,
            "reason": "Numeric range 7:13 is equivalent here since the values are contiguous, but explicit list is clearer and safer if survey coding ever changes."
          },
          {
            "expression": "A4 %in% c(7,8,9,10,11,12,13) & !is.na(A13)",
            "confidence": 0.4,
            "reason": "Not recommended because the pipeline already applies non-NA for the target question; adding it would be redundant and is an example of over-filtering."
          }
        ],
        "confidence": 0.95,
        "reasoning": "A4 and A13 both exist in the datamap. Translation context clarifies that values 4 and 5 were struck through, leaving A4 values {7,8,9,10,11,12,13}. The minimal additional constraint is to filter on A4 being one of those values.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_a13b_followup",
        "questionId": "A13b",
        "action": "filter",
        "filterExpression": "A13a == 1",
        "baseText": "Respondents who said they had other drinks (A13a = 1)",
        "splits": [],
        "alternatives": [],
        "confidence": 0.95,
        "reasoning": "A13a exists in the datamap as a categorical_select with values 1=Yes, 2=No. The rule explicitly requires A13a = 1 to ask A13b, so the minimal additional constraint is A13a == 1. A13b's row variables (A13br1..A13br5) exist as binary flags but are not needed for the table-level filter.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_a14a_a19_off_premise",
        "questionId": "A14a",
        "action": "filter",
        "filterExpression": "hLOCATION1 %in% c(1, 2, 3, 4, 15)",
        "baseText": "Occasions where the assigned location (LOCATION1) is OFF-PREMISE (S9 ∈ {1,2,3,4,15})",
        "splits": [],
        "alternatives": [
          {
            "expression": "hLOCATION2 %in% c(1, 2, 3, 4, 15)",
            "confidence": 0.55,
            "reason": "If this A14a instance corresponds to LOCATION2 rather than LOCATION1 (mapping of un-suffixed A-questions to LOCATION1/2 is ambiguous)."
          },
          {
            "expression": "(hLOCATION1 %in% c(1, 2, 3, 4, 15) | hLOCATION2 %in% c(1, 2, 3, 4, 15))",
            "confidence": 0.4,
            "reason": "Less surgical: include respondents if either assigned location is off-premise (broader interpretation; use only if rule applies to any off-premise occasion)."
          }
        ],
        "confidence": 0.75,
        "reasoning": "translationContext specifies OFF-PREMISE = S9 in {1,2,3,4,15}. Datamap includes hLOCATION1 and hLOCATION2 which map the LOCATION slots to S9 row indices; using hLOCATION1 is the minimal, direct mapping for the un-suffixed A14a question. However, the datamap does not show distinct suffixed A14a_1/A14a_2 variables so which hLOCATION (1 vs 2) applies is ambiguous—provided alternatives and flagged for review.",
        "humanReviewRequired": true
      },
      {
        "ruleId": "rule_a14a_a19_off_premise",
        "questionId": "A14b",
        "action": "filter",
        "filterExpression": "hLOCATION1 %in% c(1, 2, 3, 4, 15)",
        "baseText": "Occasions where the assigned location (LOCATION1) is OFF-PREMISE (S9 ∈ {1,2,3,4,15})",
        "splits": [],
        "alternatives": [
          {
            "expression": "hLOCATION2 %in% c(1, 2, 3, 4, 15)",
            "confidence": 0.55,
            "reason": "If this A14b instance corresponds to LOCATION2 rather than LOCATION1 (mapping of un-suffixed A-questions to LOCATION1/2 is ambiguous)."
          },
          {
            "expression": "(hLOCATION1 %in% c(1, 2, 3, 4, 15) | hLOCATION2 %in% c(1, 2, 3, 4, 15))",
            "confidence": 0.4,
            "reason": "Less surgical: include respondents if either assigned location is off-premise (broader interpretation; use only if rule applies to any off-premise occasion)."
          }
        ],
        "confidence": 0.75,
        "reasoning": "Same mapping reasoning as for A14a: use hidden mapping hLOCATION1 to test whether the LOCATION is one of the OFF-PREMISE S9 codes per translationContext. Datamap lacks suffixed A-variables so mapping ambiguity remains.",
        "humanReviewRequired": true
      },
      {
        "ruleId": "rule_a14a_a19_off_premise",
        "questionId": "A15",
        "action": "filter",
        "filterExpression": "hLOCATION1 %in% c(1, 2, 3, 4, 15)",
        "baseText": "Occasions where the assigned location (LOCATION1) is OFF-PREMISE (S9 ∈ {1,2,3,4,15})",
        "splits": [],
        "alternatives": [
          {
            "expression": "hLOCATION2 %in% c(1, 2, 3, 4, 15)",
            "confidence": 0.55,
            "reason": "If this A15 instance corresponds to LOCATION2 rather than LOCATION1."
          },
          {
            "expression": "(hLOCATION1 %in% c(1, 2, 3, 4, 15) | hLOCATION2 %in% c(1, 2, 3, 4, 15))",
            "confidence": 0.4,
            "reason": "Broader alternative: either assigned location is off-premise."
          }
        ],
        "confidence": 0.75,
        "reasoning": "A15 is in the same block as A14a–A19. The minimal mapping is to use hLOCATION1 per the datamap. Provide alternatives because mapping to LOCATION2 is possible depending on dynamic piping/flow.",
        "humanReviewRequired": true
      },
      {
        "ruleId": "rule_a14a_a19_off_premise",
        "questionId": "A16",
        "action": "filter",
        "filterExpression": "hLOCATION1 %in% c(1, 2, 3, 4, 15)",
        "baseText": "Occasions where the assigned location (LOCATION1) is OFF-PREMISE (S9 ∈ {1,2,3,4,15})",
        "splits": [],
        "alternatives": [
          {
            "expression": "hLOCATION2 %in% c(1, 2, 3, 4, 15)",
            "confidence": 0.55,
            "reason": "If this A16 instance corresponds to LOCATION2 rather than LOCATION1."
          },
          {
            "expression": "(hLOCATION1 %in% c(1, 2, 3, 4, 15) | hLOCATION2 %in% c(1, 2, 3, 4, 15))",
            "confidence": 0.4,
            "reason": "Broader alternative: either assigned location is off-premise."
          }
        ],
        "confidence": 0.75,
        "reasoning": "Same as above: translationContext maps OFF-PREMISE to S9 codes; hLOCATION1/hLOCATION2 exist to reference which S9 row corresponds to the LOCATION slot. Primary uses hLOCATION1 for minimal surgical filter.",
        "humanReviewRequired": true
      },
      {
        "ruleId": "rule_a14a_a19_off_premise",
        "questionId": "A17",
        "action": "filter",
        "filterExpression": "hLOCATION1 %in% c(1, 2, 3, 4, 15)",
        "baseText": "Occasions where the assigned location (LOCATION1) is OFF-PREMISE (S9 ∈ {1,2,3,4,15})",
        "splits": [],
        "alternatives": [
          {
            "expression": "hLOCATION2 %in% c(1, 2, 3, 4, 15)",
            "confidence": 0.55,
            "reason": "If this A17 instance corresponds to LOCATION2 rather than LOCATION1."
          },
          {
            "expression": "(hLOCATION1 %in% c(1, 2, 3, 4, 15) | hLOCATION2 %in% c(1, 2, 3, 4, 15))",
            "confidence": 0.4,
            "reason": "Broader alternative: either assigned location is off-premise."
          }
        ],
        "confidence": 0.75,
        "reasoning": "Primary uses hLOCATION1 per datamap; alternatives provided for ambiguity. Minimal constraint preferred.",
        "humanReviewRequired": true
      },
      {
        "ruleId": "rule_a14a_a19_off_premise",
        "questionId": "A18",
        "action": "filter",
        "filterExpression": "hLOCATION1 %in% c(1, 2, 3, 4, 15)",
        "baseText": "Occasions where the assigned location (LOCATION1) is OFF-PREMISE (S9 ∈ {1,2,3,4,15})",
        "splits": [],
        "alternatives": [
          {
            "expression": "hLOCATION2 %in% c(1, 2, 3, 4, 15)",
            "confidence": 0.55,
            "reason": "If this A18 instance corresponds to LOCATION2 rather than LOCATION1."
          },
          {
            "expression": "(hLOCATION1 %in% c(1, 2, 3, 4, 15) | hLOCATION2 %in% c(1, 2, 3, 4, 15))",
            "confidence": 0.4,
            "reason": "Broader alternative: either assigned location is off-premise."
          }
        ],
        "confidence": 0.75,
        "reasoning": "Same rationale as other A-block questions. hLOCATION1 maps to the S9 row; OFF-PREMISE codes per translationContext are used.",
        "humanReviewRequired": true
      },
      {
        "ruleId": "rule_a14a_a19_off_premise",
        "questionId": "A19",
        "action": "filter",
        "filterExpression": "hLOCATION1 %in% c(1, 2, 3, 4, 15)",
        "baseText": "Occasions where the assigned location (LOCATION1) is OFF-PREMISE (S9 ∈ {1,2,3,4,15})",
        "splits": [],
        "alternatives": [
          {
            "expression": "hLOCATION2 %in% c(1, 2, 3, 4, 15)",
            "confidence": 0.55,
            "reason": "If this A19 instance corresponds to LOCATION2 rather than LOCATION1."
          },
          {
            "expression": "(hLOCATION1 %in% c(1, 2, 3, 4, 15) | hLOCATION2 %in% c(1, 2, 3, 4, 15))",
            "confidence": 0.4,
            "reason": "Broader alternative: either assigned location is off-premise."
          }
        ],
        "confidence": 0.75,
        "reasoning": "Same as above: use hLOCATION1 as minimal mapping; alternatives included due to ambiguity in which LOCATION slot the un-suffixed A-questions reference.",
        "humanReviewRequired": true
      },
      {
        "ruleId": "rule_a15_vodka_size",
        "questionId": "A15",
        "action": "filter",
        "filterExpression": "A4 == 7 & A14a == 1",
        "baseText": "Respondents who had Vodka (A4 = 7) and who purchased the drink themselves (A14a = 1)",
        "splits": [],
        "alternatives": [
          {
            "expression": "A4 %in% c(7) & A14a == 1",
            "confidence": 0.65,
            "reason": "Stylistic equivalent to A4 == 7; same logical meaning for categorical value 7 = Vodka."
          }
        ],
        "confidence": 0.9,
        "reasoning": "A4, A14a, and A15 exist in the datamap. A4 value 7 is labeled 'Vodka' and A14a value 1 is labeled 'I went to the store/made the purchase myself'. The minimal additional constraint is A4 == 7 & A14a == 1. No loop-suffixing or hidden variable mapping is required. Human review not required.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_a16_purchase_intent",
        "questionId": "A16",
        "action": "filter",
        "filterExpression": "A14a == 1",
        "baseText": "Respondents who said they purchased the product themselves (A14a = 1)",
        "splits": [],
        "alternatives": [
          {
            "expression": "A14a %in% c(1)",
            "confidence": 0.6,
            "reason": "Equivalent expression using %in% for a single value; stylistic alternative only."
          }
        ],
        "confidence": 0.95,
        "reasoning": "A14a exists in the datamap with values 1-4 and value 1 labelled 'I went to the store/made the purchase myself'. The rule explicitly requires A14a = 1, so the minimal additional constraint is A14a == 1. No loop or hidden-variable mapping is necessary.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_a17_intent_location",
        "questionId": "A17",
        "action": "filter",
        "filterExpression": "A14a == 1",
        "baseText": "Respondents who purchased the item themselves (A14a = 1)",
        "splits": [],
        "alternatives": [],
        "confidence": 0.95,
        "reasoning": "Datamap contains A14a (values 1-4) with value 1 = 'I went to the store/made the purchase myself'. A17 is a follow-up asked only when A14a = 1. The minimal appropriate constraint is A14a == 1.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_a18_purchase_reason",
        "questionId": "A18",
        "action": "filter",
        "filterExpression": "A14a == 1",
        "baseText": "Respondent was the purchaser (A14a = 1)",
        "splits": [],
        "alternatives": [],
        "confidence": 0.95,
        "reasoning": "Datamap contains A14a (categorical_select, values 1-4) where 1 = \"I went to the store/made the purchase myself\". The rule explicitly conditions on A14a = 1. A18 exists and is the target question. Using A14a == 1 is the minimal, exact constraint required on top of the default base (banner cut + non-NA for A18). No plausible alternative mappings identified in the datamap.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_a19_brand_choice_reasons",
        "questionId": "A19",
        "action": "filter",
        "filterExpression": "A14a == 1",
        "baseText": "Respondents who made the purchase themselves (A14a = 1)",
        "splits": [],
        "alternatives": [
          {
            "expression": "A14a %in% c(1)",
            "confidence": 0.6,
            "reason": "Equivalent numeric expression using %in%; provided as an alternative syntax only."
          }
        ],
        "confidence": 0.95,
        "reasoning": "A14a exists in the datamap as a categorical_select with value 1 = 'I went to the store/made the purchase myself', which exactly matches the rule condition. A19 is the multi-select target (A19r1..A19r12 rows exist). The minimal additional constraint is A14a == 1.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_a22_brand_attribute",
        "questionId": "A22",
        "action": "filter",
        "filterExpression": "(A21r1 == 1 | A21r2 == 1 | A21r3 == 1 | A21r4 == 1 | A21r5 == 1 | A21r6 == 1)",
        "baseText": "Respondents who selected at least one real brand in A21 (not 'None of the above')",
        "splits": [],
        "alternatives": [
          {
            "expression": "(A21r1 + A21r2 + A21r3 + A21r4 + A21r5 + A21r6) > 0",
            "confidence": 0.75,
            "reason": "Equivalent numeric-sum alternative using the six brand flags (0/1)."
          },
          {
            "expression": "A21r7 != 1 & (A21r1 == 1 | A21r2 == 1 | A21r3 == 1 | A21r4 == 1 | A21r5 == 1 | A21r6 == 1)",
            "confidence": 0.6,
            "reason": "Explicitly excludes 'None of the above' flag (A21r7) in case it could be co-selected; likely redundant if A21r1..A21r6 suffice."
          }
        ],
        "confidence": 0.95,
        "reasoning": "A21 contains binary flags A21r1..A21r7 for brand awareness. The rule requires A22 be asked only when the respondent selected one or more brands in A21. The minimal, direct mapping is to require any of the six real-brand flags (A21r1..A21r6) equal 1. A21r7 is 'None of the above' and is intentionally excluded from the positive condition. Per-attribute display of only selected brands is handled by the survey engine; this table-level filter only gates whether A22 is shown at all.",
        "humanReviewRequired": false
      },
      {
        "ruleId": "rule_a23_consideration_grid",
        "questionId": "A23",
        "action": "split",
        "filterExpression": "",
        "baseText": "Show each A23 brand row only for respondents who selected that brand in A21",
        "splits": [
          {
            "rowVariables": [
              "A23r1"
            ],
            "filterExpression": "A21r1 == 1",
            "baseText": "Those who selected Tito's (A21r1==1)",
            "splitLabel": "Tito's (row 1)"
          },
          {
            "rowVariables": [
              "A23r2"
            ],
            "filterExpression": "A21r2 == 1",
            "baseText": "Those who selected Grey Goose (A21r2==1)",
            "splitLabel": "Grey Goose (row 2)"
          },
          {
            "rowVariables": [
              "A23r3"
            ],
            "filterExpression": "A21r3 == 1",
            "baseText": "Those who selected Ketel One (A21r3==1)",
            "splitLabel": "Ketel One (row 3)"
          },
          {
            "rowVariables": [
              "A23r4"
            ],
            "filterExpression": "A21r4 == 1",
            "baseText": "Those who selected Maker's Mark (A21r4==1)",
            "splitLabel": "Maker's Mark (row 4)"
          },
          {
            "rowVariables": [
              "A23r5"
            ],
            "filterExpression": "A21r5 == 1",
            "baseText": "Those who selected Casamigos (A21r5==1)",
            "splitLabel": "Casamigos (row 5)"
          },
          {
            "rowVariables": [
              "A23r6"
            ],
            "filterExpression": "A21r6 == 1",
            "baseText": "Those who selected Don Julio (A21r6==1)",
            "splitLabel": "Don Julio (row 6)"
          }
        ],
        "alternatives": [
          {
            "expression": "A21r1 > 0",
            "confidence": 0.6,
            "reason": "Equivalent numeric check for binary flag; use if survey coding might use non-binary positive values (unlikely here)."
          },
          {
            "expression": "A21r2 > 0",
            "confidence": 0.6,
            "reason": "See note above for A21r2."
          },
          {
            "expression": "A21r3 > 0",
            "confidence": 0.6,
            "reason": "See note above for A21r3."
          },
          {
            "expression": "A21r4 > 0",
            "confidence": 0.6,
            "reason": "See note above for A21r4."
          },
          {
            "expression": "A21r5 > 0",
            "confidence": 0.6,
            "reason": "See note above for A21r5."
          },
          {
            "expression": "A21r6 > 0",
            "confidence": 0.6,
            "reason": "See note above for A21r6."
          }
        ],
        "confidence": 0.95,
        "reasoning": "Datamap contains A21r1..A21r6 (binary_flag 0/1) representing brand selections and A23r1..A23r6 (ratings 1-5). The rule requires showing each A23 brand row only when the corresponding A21 brand flag is selected. The minimal safe expression is A21r# == 1 for each row. Alternatives using > 0 are provided but equivalent here. No hidden or loop variables are required. humanReviewRequired=false",
        "humanReviewRequired": false
      }
    ]
  },
  "metadata": {
    "filtersTranslated": 22,
    "highConfidenceCount": 12,
    "reviewRequiredCount": 10,
    "durationMs": 580047
  },
  "processingInfo": {
    "timestamp": "2026-02-09T00:40:41.150Z",
    "aiProvider": "azure-openai",
    "model": "azure/gpt-5-mini",
    "reasoningEffort": "medium"
  }
}