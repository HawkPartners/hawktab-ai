# Azure OpenAI Configuration (Required)
# Get these from Azure Portal > Your OpenAI Resource
AZURE_API_KEY=
AZURE_RESOURCE_NAME=
# API version for Azure AI Foundry (must match your deployment's target URI)
# See: https://learn.microsoft.com/en-us/azure/ai-services/openai/api-version-lifecycle
AZURE_API_VERSION=2025-01-01-preview

# Model Configuration (Per-Agent)
# These are Azure deployment names, not OpenAI model names
# Each agent has its own model configuration for flexibility

# CrosstabAgent: Complex validation, R syntax generation (requires reasoning)
CROSSTAB_MODEL=o4-mini
CROSSTAB_MODEL_TOKENS=100000

# BannerAgent: Vision/extraction tasks (requires multimodal support)
BANNER_MODEL=gpt-5-nano
BANNER_MODEL_TOKENS=128000

# TableAgent: Table definition generation (new agent)
TABLE_MODEL=gpt-5-nano
TABLE_MODEL_TOKENS=128000

# Legacy model aliases (for backward compatibility - deprecated)
# These map to: REASONING_MODEL → CROSSTAB_MODEL, BASE_MODEL → BANNER_MODEL
REASONING_MODEL=o4-mini
BASE_MODEL=gpt-5-nano
REASONING_MODEL_TOKENS=100000
BASE_MODEL_TOKENS=128000

# Prompt Versions (per-agent)
CROSSTAB_PROMPT_VERSION=production
BANNER_PROMPT_VERSION=production
TABLE_PROMPT_VERSION=production
MAX_DATA_MAP_VARIABLES=1000
MAX_BANNER_COLUMNS=100
TRACING_ENABLED=true
NODE_ENV=development

# Testing Mode
# Set to 'true' to stop after TableAgent and return JSON definitions (skip R generation)
TABLE_AGENT_ONLY=false

# Data Map Format (optional)
# Options: 'raw' (legacy multi-row format) or 'new' (simplified CSV format)
DATAMAP_FORMAT=raw

# Decipher API Configuration (for Phase 3)
# Get API key from Research Hub > User Links > API Keys
DECIPHER_API_KEY=
DECIPHER_BASE_URL=https://selfserve.decipherinc.com
DECIPHER_SURVEY_PATH=

# ──────────────────────────────────────────────
# Phase 3.1: Cloud Infrastructure
# ──────────────────────────────────────────────

# Convex — Real-time database
# Get these after running `npx convex dev` (creates project + deployment)
# Dashboard: https://dashboard.convex.dev
CONVEX_URL=
NEXT_PUBLIC_CONVEX_URL=

# Cloudflare R2 — File storage (S3-compatible)
# Create bucket in Cloudflare Dashboard > R2 > Create Bucket
# Create API token with Object Read & Write permission
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET_NAME=hawktab-dev

# WorkOS — Authentication + Organization Management
# Create account at https://workos.com, add redirect URI
# Redirect URI: http://localhost:3000/auth/callback
WORKOS_CLIENT_ID=
WORKOS_API_KEY=
# Generate with: openssl rand -base64 32
WORKOS_COOKIE_PASSWORD=
NEXT_PUBLIC_WORKOS_REDIRECT_URI=http://localhost:3000/auth/callback

# Auth Bypass — Set to 'true' to skip WorkOS login (dev mode)
# Uses hardcoded dev user (dev_user_001 / jason@hawkpartners.com)
AUTH_BYPASS=true
NEXT_PUBLIC_AUTH_BYPASS=true